2025-05-31 00:23:00,113 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:23:00,113 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:23:00,113 - OpenAITest - ERROR - Error during OpenAI test: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-05-31 00:23:00,115 - OpenAITest - ERROR - Test failed: name 'traceback' is not defined
2025-05-31 00:23:44,632 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:23:44,632 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:23:44,992 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:23:44,994 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:23:45,001 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 36, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_utils\_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\resources\chat\completions.py", line 646, in create
    return self._post(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 1271, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 942, in request
    return self._request(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 1046, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:23:45,001 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:23:45,002 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 65, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 36, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_utils\_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\resources\chat\completions.py", line 646, in create
    return self._post(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 1271, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 942, in request
    return self._request(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 1046, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:24:48,010 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:24:48,011 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:24:48,011 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:24:48,287 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:24:48,289 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:24:48,289 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:24:48,296 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 50, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_utils\_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\resources\chat\completions.py", line 646, in create
    return self._post(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 1271, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 942, in request
    return self._request(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 1046, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:24:48,296 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:24:48,296 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 84, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 50, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_utils\_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\resources\chat\completions.py", line 646, in create
    return self._post(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 1271, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 942, in request
    return self._request(
  File "C:\Users\marti\anaconda3\lib\site-packages\openai\_base_client.py", line 1046, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:24:48,296 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:24:48,297 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:24:48,297 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:25:49,082 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:25:49,082 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:25:49,082 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:25:49,642 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:25:49,646 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:25:49,646 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:25:49,646 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 50, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:25:49,646 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:25:49,646 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 84, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 50, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:25:49,646 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:25:49,646 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:25:49,646 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:29:15,618 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:29:15,618 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:29:15,618 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:29:16,057 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:29:16,059 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:29:16,059 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:29:16,060 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 50, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:29:16,060 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:29:16,060 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 84, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 50, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:29:16,061 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:29:16,061 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:29:16,061 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:29:57,592 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:29:57,592 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:29:57,592 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:29:58,147 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:29:58,147 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:29:58,147 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:29:58,149 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 51, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:29:58,149 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:29:58,149 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 85, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 51, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:29:58,150 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:29:58,150 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:29:58,150 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:31:38,758 - OpenAITest - INFO - Current working directory: C:\Users\marti\CascadeProjects\congressional-bill-analyzer
2025-05-31 00:31:38,758 - OpenAITest - INFO - .env file exists: True
2025-05-31 00:31:38,758 - OpenAITest - INFO - Loaded environment variables: {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\marti\\AppData\\Roaming', 'CHROME_CRASHPAD_PIPE_NAME': '\\\\.\\pipe\\crashpad_19400_IMWCWWICHQSOHJHV', 'CHROME_RESTART': 'Google Chrome|Whoa! Google Chrome has crashed. Relaunch now?|LEFT_TO_RIGHT', 'COMMONPROGRAMFILES': 'C:\\Program Files\\Common Files', 'COMMONPROGRAMFILES(X86)': 'C:\\Program Files (x86)\\Common Files', 'COMMONPROGRAMW6432': 'C:\\Program Files\\Common Files', 'COMPUTERNAME': 'MARTYSHP', 'COMSPEC': 'C:\\WINDOWS\\system32\\cmd.exe', 'DRIVERDATA': 'C:\\Windows\\System32\\Drivers\\DriverData', 'EFC_2932_1592913036': '1', 'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'FPS_BROWSER_USER_PROFILE_STRING': 'Default', 'HOMEDRIVE': 'C:', 'HOMEPATH': '\\Users\\marti', 'IGCCSVC_DB': 'AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAV4q3FNqEUE2VnMHsrA9KcAQAAAACAAAAAAAQZgAAAAEAACAAAABbeBuAbXezeVE29Mzdaz0iGbcZo+JRT93yWOjYps/XggAAAAAOgAAAAAIAACAAAAA3M3GW8IH2HBvE7yR1ixB3/1jGey+GCdo5qTQ+aGcebmAAAABVOVEtK+cEPRZJW7IqjK8ki5xMdzy2et7jpKGWhNfL9kvMLDUBZdVGs8FOltuLf5ZtGcPR2M+IJz1BRD2+TCTzM+qgfFTLlEPtw5oGPiyo0JchGG5SKieokm+S1O5ZuuhAAAAADjDGo91s0PwKDZAOsUCSDVDJdx2Q+mZCLAWIPWbTMWFgNS86Zuhg+2hv6btTnyiLKIFWyQ5QSLb99xeya7eWYQ==', 'LOCALAPPDATA': 'C:\\Users\\marti\\AppData\\Local', 'LOGONSERVER': '\\\\MARTYSHP', 'NUMBER_OF_PROCESSORS': '12', 'ONEDRIVE': 'C:\\Users\\marti\\OneDrive', 'ONEDRIVECONSUMER': 'C:\\Users\\marti\\OneDrive', 'OPENAI_API_KEY': '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', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'undefined', 'OS': 'Windows_NT', 'PATH': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'PATHEXT': '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL', 'PROCESSOR_ARCHITECTURE': 'AMD64', 'PROCESSOR_IDENTIFIER': 'Intel64 Family 6 Model 154 Stepping 4, GenuineIntel', 'PROCESSOR_LEVEL': '6', 'PROCESSOR_REVISION': '9a04', 'PROGRAMDATA': 'C:\\ProgramData', 'PROGRAMFILES': 'C:\\Program Files', 'PROGRAMFILES(X86)': 'C:\\Program Files (x86)', 'PROGRAMW6432': 'C:\\Program Files', 'PSMODULEPATH': 'C:\\Users\\marti\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'PUBLIC': 'C:\\Users\\Public', 'RTOOLS44_HOME': 'C:\\rtools44', 'SESSIONNAME': 'Console', 'SYSTEMDRIVE': 'C:', 'SYSTEMROOT': 'C:\\WINDOWS', 'TEMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'TMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'USERDOMAIN': 'MARTYSHP', 'USERDOMAIN_ROAMINGPROFILE': 'MARTYSHP', 'USERNAME': 'marti', 'USERPROFILE': 'C:\\Users\\marti', 'VBOX_MSI_INSTALL_PATH': 'C:\\Program Files\\Oracle\\VirtualBox\\', 'VIRTUAL_ENV': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv', 'WINDIR': 'C:\\WINDOWS', 'ZES_ENABLE_SYSMAN': '1', 'TERM_PROGRAM': 'vscode', 'TERM_PROGRAM_VERSION': '1.99.1', 'LANG': 'en_US.UTF-8', 'COLORTERM': 'truecolor', 'GIT_ASKPASS': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass.sh', 'VSCODE_GIT_ASKPASS_NODE': 'C:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\Windsurf.exe', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'VSCODE_GIT_ASKPASS_MAIN': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass-main.js', 'VSCODE_GIT_IPC_HANDLE': '\\\\.\\pipe\\vscode-git-7c04946eb4-sock', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\.noConfigDebugAdapterEndpoints\\endpoint-7c6af91d3eae993d.txt', 'VSCODE_ENV_PREPEND': 'PATH=c\\x3a\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c\\x3a\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C\\x3a\\Program Files\\Google\\Chrome\\Application;C\\x3a\\Program Files\\Rockwell Software\\RSCommon;C\\x3a\\WINDOWS\\system32;C\\x3a\\WINDOWS;C\\x3a\\WINDOWS\\System32\\Wbem;C\\x3a\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C\\x3a\\WINDOWS\\System32\\OpenSSH\\;C\\x3a\\Program Files\\Git\\cmd;C\\x3a\\Program Files\\dotnet\\;C\\x3a\\Program Files\\nodejs\\;C\\x3a\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C\\x3a\\ProgramData\\marti\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C\\x3a\\Users\\marti\\AppData\\Local\\Pandoc\\;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C\\x3a\\Users\\marti\\.dotnet\\tools;C\\x3a\\Users\\marti\\anaconda3\\Scripts;C\\x3a\\Users\\marti\\anaconda3;C\\x3a\\Users\\marti\\anaconda3\\Library\\bin;C\\x3a\\Users\\marti\\AppData\\Roaming\\npm;', 'BUNDLED_DEBUGPY_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\bundled\\libs\\debugpy', 'VSCODE_ENV_REPLACE': 'PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC:__COMPAT_LAYER=DetectorsAppHealth:PSMODULEPATH=C\\x3a\\Program Files\\WindowsPowerShell\\Modules;C\\x3a\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'VSCODE_INJECTION': '1', 'VSCODE_NONCE': '31240ae9-b2d8-44c9-ad2a-1e99602f847e', 'VSCODE_STABLE': '1', '_OLD_VIRTUAL_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'CHROMA_DB_PATH': './data/chromadb', 'LOG_LEVEL': 'INFO', 'SCRAPING_DELAY': '1.0'}
2025-05-31 00:31:38,758 - OpenAITest - INFO - API key from env: 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
2025-05-31 00:31:38,809 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:31:38,809 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:31:38,809 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:31:39,309 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:31:39,309 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:31:39,309 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:31:39,323 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 57, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:31:39,323 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:31:39,323 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 91, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 57, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:31:39,323 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:31:39,323 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:31:39,323 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:32:02,834 - OpenAITest - INFO - Current working directory: C:\Users\marti\CascadeProjects\congressional-bill-analyzer
2025-05-31 00:32:02,834 - OpenAITest - INFO - .env file exists: True
2025-05-31 00:32:02,834 - OpenAITest - INFO - Loaded environment variables: {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\marti\\AppData\\Roaming', 'CHROME_CRASHPAD_PIPE_NAME': '\\\\.\\pipe\\crashpad_19400_IMWCWWICHQSOHJHV', 'CHROME_RESTART': 'Google Chrome|Whoa! Google Chrome has crashed. Relaunch now?|LEFT_TO_RIGHT', 'COMMONPROGRAMFILES': 'C:\\Program Files\\Common Files', 'COMMONPROGRAMFILES(X86)': 'C:\\Program Files (x86)\\Common Files', 'COMMONPROGRAMW6432': 'C:\\Program Files\\Common Files', 'COMPUTERNAME': 'MARTYSHP', 'COMSPEC': 'C:\\WINDOWS\\system32\\cmd.exe', 'DRIVERDATA': 'C:\\Windows\\System32\\Drivers\\DriverData', 'EFC_2932_1592913036': '1', 'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'FPS_BROWSER_USER_PROFILE_STRING': 'Default', 'HOMEDRIVE': 'C:', 'HOMEPATH': '\\Users\\marti', 'IGCCSVC_DB': 'AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAV4q3FNqEUE2VnMHsrA9KcAQAAAACAAAAAAAQZgAAAAEAACAAAABbeBuAbXezeVE29Mzdaz0iGbcZo+JRT93yWOjYps/XggAAAAAOgAAAAAIAACAAAAA3M3GW8IH2HBvE7yR1ixB3/1jGey+GCdo5qTQ+aGcebmAAAABVOVEtK+cEPRZJW7IqjK8ki5xMdzy2et7jpKGWhNfL9kvMLDUBZdVGs8FOltuLf5ZtGcPR2M+IJz1BRD2+TCTzM+qgfFTLlEPtw5oGPiyo0JchGG5SKieokm+S1O5ZuuhAAAAADjDGo91s0PwKDZAOsUCSDVDJdx2Q+mZCLAWIPWbTMWFgNS86Zuhg+2hv6btTnyiLKIFWyQ5QSLb99xeya7eWYQ==', 'LOCALAPPDATA': 'C:\\Users\\marti\\AppData\\Local', 'LOGONSERVER': '\\\\MARTYSHP', 'NUMBER_OF_PROCESSORS': '12', 'ONEDRIVE': 'C:\\Users\\marti\\OneDrive', 'ONEDRIVECONSUMER': 'C:\\Users\\marti\\OneDrive', 'OPENAI_API_KEY': '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', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'undefined', 'OS': 'Windows_NT', 'PATH': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'PATHEXT': '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL', 'PROCESSOR_ARCHITECTURE': 'AMD64', 'PROCESSOR_IDENTIFIER': 'Intel64 Family 6 Model 154 Stepping 4, GenuineIntel', 'PROCESSOR_LEVEL': '6', 'PROCESSOR_REVISION': '9a04', 'PROGRAMDATA': 'C:\\ProgramData', 'PROGRAMFILES': 'C:\\Program Files', 'PROGRAMFILES(X86)': 'C:\\Program Files (x86)', 'PROGRAMW6432': 'C:\\Program Files', 'PSMODULEPATH': 'C:\\Users\\marti\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'PUBLIC': 'C:\\Users\\Public', 'RTOOLS44_HOME': 'C:\\rtools44', 'SESSIONNAME': 'Console', 'SYSTEMDRIVE': 'C:', 'SYSTEMROOT': 'C:\\WINDOWS', 'TEMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'TMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'USERDOMAIN': 'MARTYSHP', 'USERDOMAIN_ROAMINGPROFILE': 'MARTYSHP', 'USERNAME': 'marti', 'USERPROFILE': 'C:\\Users\\marti', 'VBOX_MSI_INSTALL_PATH': 'C:\\Program Files\\Oracle\\VirtualBox\\', 'VIRTUAL_ENV': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv', 'WINDIR': 'C:\\WINDOWS', 'ZES_ENABLE_SYSMAN': '1', 'TERM_PROGRAM': 'vscode', 'TERM_PROGRAM_VERSION': '1.99.1', 'LANG': 'en_US.UTF-8', 'COLORTERM': 'truecolor', 'GIT_ASKPASS': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass.sh', 'VSCODE_GIT_ASKPASS_NODE': 'C:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\Windsurf.exe', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'VSCODE_GIT_ASKPASS_MAIN': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass-main.js', 'VSCODE_GIT_IPC_HANDLE': '\\\\.\\pipe\\vscode-git-7c04946eb4-sock', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\.noConfigDebugAdapterEndpoints\\endpoint-7c6af91d3eae993d.txt', 'VSCODE_ENV_PREPEND': 'PATH=c\\x3a\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c\\x3a\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C\\x3a\\Program Files\\Google\\Chrome\\Application;C\\x3a\\Program Files\\Rockwell Software\\RSCommon;C\\x3a\\WINDOWS\\system32;C\\x3a\\WINDOWS;C\\x3a\\WINDOWS\\System32\\Wbem;C\\x3a\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C\\x3a\\WINDOWS\\System32\\OpenSSH\\;C\\x3a\\Program Files\\Git\\cmd;C\\x3a\\Program Files\\dotnet\\;C\\x3a\\Program Files\\nodejs\\;C\\x3a\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C\\x3a\\ProgramData\\marti\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C\\x3a\\Users\\marti\\AppData\\Local\\Pandoc\\;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C\\x3a\\Users\\marti\\.dotnet\\tools;C\\x3a\\Users\\marti\\anaconda3\\Scripts;C\\x3a\\Users\\marti\\anaconda3;C\\x3a\\Users\\marti\\anaconda3\\Library\\bin;C\\x3a\\Users\\marti\\AppData\\Roaming\\npm;', 'BUNDLED_DEBUGPY_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\bundled\\libs\\debugpy', 'VSCODE_ENV_REPLACE': 'PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC:__COMPAT_LAYER=DetectorsAppHealth:PSMODULEPATH=C\\x3a\\Program Files\\WindowsPowerShell\\Modules;C\\x3a\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'VSCODE_INJECTION': '1', 'VSCODE_NONCE': '31240ae9-b2d8-44c9-ad2a-1e99602f847e', 'VSCODE_STABLE': '1', '_OLD_VIRTUAL_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'CHROMA_DB_PATH': './data/chromadb', 'LOG_LEVEL': 'INFO', 'SCRAPING_DELAY': '1.0'}
2025-05-31 00:32:02,834 - OpenAITest - INFO - API key from env: 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
2025-05-31 00:32:02,892 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:32:02,892 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:32:02,892 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:32:03,404 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:32:03,405 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:32:03,406 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:32:03,407 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 57, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:32:03,407 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:32:03,408 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 91, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 57, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:32:03,408 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:32:03,408 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:32:03,409 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:33:52,857 - OpenAITest - INFO - Looking for .env file at: .env
2025-05-31 00:33:52,858 - OpenAITest - INFO - .env file exists: True
2025-05-31 00:33:52,858 - OpenAITest - INFO - Loaded environment variables: {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\marti\\AppData\\Roaming', 'CHROME_CRASHPAD_PIPE_NAME': '\\\\.\\pipe\\crashpad_19400_IMWCWWICHQSOHJHV', 'CHROME_RESTART': 'Google Chrome|Whoa! Google Chrome has crashed. Relaunch now?|LEFT_TO_RIGHT', 'COMMONPROGRAMFILES': 'C:\\Program Files\\Common Files', 'COMMONPROGRAMFILES(X86)': 'C:\\Program Files (x86)\\Common Files', 'COMMONPROGRAMW6432': 'C:\\Program Files\\Common Files', 'COMPUTERNAME': 'MARTYSHP', 'COMSPEC': 'C:\\WINDOWS\\system32\\cmd.exe', 'DRIVERDATA': 'C:\\Windows\\System32\\Drivers\\DriverData', 'EFC_2932_1592913036': '1', 'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'FPS_BROWSER_USER_PROFILE_STRING': 'Default', 'HOMEDRIVE': 'C:', 'HOMEPATH': '\\Users\\marti', 'IGCCSVC_DB': 'AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAV4q3FNqEUE2VnMHsrA9KcAQAAAACAAAAAAAQZgAAAAEAACAAAABbeBuAbXezeVE29Mzdaz0iGbcZo+JRT93yWOjYps/XggAAAAAOgAAAAAIAACAAAAA3M3GW8IH2HBvE7yR1ixB3/1jGey+GCdo5qTQ+aGcebmAAAABVOVEtK+cEPRZJW7IqjK8ki5xMdzy2et7jpKGWhNfL9kvMLDUBZdVGs8FOltuLf5ZtGcPR2M+IJz1BRD2+TCTzM+qgfFTLlEPtw5oGPiyo0JchGG5SKieokm+S1O5ZuuhAAAAADjDGo91s0PwKDZAOsUCSDVDJdx2Q+mZCLAWIPWbTMWFgNS86Zuhg+2hv6btTnyiLKIFWyQ5QSLb99xeya7eWYQ==', 'LOCALAPPDATA': 'C:\\Users\\marti\\AppData\\Local', 'LOGONSERVER': '\\\\MARTYSHP', 'NUMBER_OF_PROCESSORS': '12', 'ONEDRIVE': 'C:\\Users\\marti\\OneDrive', 'ONEDRIVECONSUMER': 'C:\\Users\\marti\\OneDrive', 'OPENAI_API_KEY': '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', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'undefined', 'OS': 'Windows_NT', 'PATH': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'PATHEXT': '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL', 'PROCESSOR_ARCHITECTURE': 'AMD64', 'PROCESSOR_IDENTIFIER': 'Intel64 Family 6 Model 154 Stepping 4, GenuineIntel', 'PROCESSOR_LEVEL': '6', 'PROCESSOR_REVISION': '9a04', 'PROGRAMDATA': 'C:\\ProgramData', 'PROGRAMFILES': 'C:\\Program Files', 'PROGRAMFILES(X86)': 'C:\\Program Files (x86)', 'PROGRAMW6432': 'C:\\Program Files', 'PSMODULEPATH': 'C:\\Users\\marti\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'PUBLIC': 'C:\\Users\\Public', 'RTOOLS44_HOME': 'C:\\rtools44', 'SESSIONNAME': 'Console', 'SYSTEMDRIVE': 'C:', 'SYSTEMROOT': 'C:\\WINDOWS', 'TEMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'TMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'USERDOMAIN': 'MARTYSHP', 'USERDOMAIN_ROAMINGPROFILE': 'MARTYSHP', 'USERNAME': 'marti', 'USERPROFILE': 'C:\\Users\\marti', 'VBOX_MSI_INSTALL_PATH': 'C:\\Program Files\\Oracle\\VirtualBox\\', 'VIRTUAL_ENV': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv', 'WINDIR': 'C:\\WINDOWS', 'ZES_ENABLE_SYSMAN': '1', 'TERM_PROGRAM': 'vscode', 'TERM_PROGRAM_VERSION': '1.99.1', 'LANG': 'en_US.UTF-8', 'COLORTERM': 'truecolor', 'GIT_ASKPASS': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass.sh', 'VSCODE_GIT_ASKPASS_NODE': 'C:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\Windsurf.exe', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'VSCODE_GIT_ASKPASS_MAIN': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass-main.js', 'VSCODE_GIT_IPC_HANDLE': '\\\\.\\pipe\\vscode-git-7c04946eb4-sock', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\.noConfigDebugAdapterEndpoints\\endpoint-7c6af91d3eae993d.txt', 'VSCODE_ENV_PREPEND': 'PATH=c\\x3a\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c\\x3a\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C\\x3a\\Program Files\\Google\\Chrome\\Application;C\\x3a\\Program Files\\Rockwell Software\\RSCommon;C\\x3a\\WINDOWS\\system32;C\\x3a\\WINDOWS;C\\x3a\\WINDOWS\\System32\\Wbem;C\\x3a\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C\\x3a\\WINDOWS\\System32\\OpenSSH\\;C\\x3a\\Program Files\\Git\\cmd;C\\x3a\\Program Files\\dotnet\\;C\\x3a\\Program Files\\nodejs\\;C\\x3a\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C\\x3a\\ProgramData\\marti\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C\\x3a\\Users\\marti\\AppData\\Local\\Pandoc\\;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C\\x3a\\Users\\marti\\.dotnet\\tools;C\\x3a\\Users\\marti\\anaconda3\\Scripts;C\\x3a\\Users\\marti\\anaconda3;C\\x3a\\Users\\marti\\anaconda3\\Library\\bin;C\\x3a\\Users\\marti\\AppData\\Roaming\\npm;', 'BUNDLED_DEBUGPY_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\bundled\\libs\\debugpy', 'VSCODE_ENV_REPLACE': 'PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC:__COMPAT_LAYER=DetectorsAppHealth:PSMODULEPATH=C\\x3a\\Program Files\\WindowsPowerShell\\Modules;C\\x3a\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'VSCODE_INJECTION': '1', 'VSCODE_NONCE': '31240ae9-b2d8-44c9-ad2a-1e99602f847e', 'VSCODE_STABLE': '1', '_OLD_VIRTUAL_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'CHROMA_DB_PATH': './data/chromadb', 'LOG_LEVEL': 'INFO', 'SCRAPING_DELAY': '1.0'}
2025-05-31 00:33:52,859 - OpenAITest - INFO - API key loaded: sk-B...1zFp (length: 51)
2025-05-31 00:33:52,859 - OpenAITest - INFO - API key from env: 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
2025-05-31 00:33:52,907 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:33:52,907 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:33:52,907 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:33:53,333 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:33:53,341 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:33:53,342 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:33:53,342 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 68, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:33:53,342 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:33:53,342 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 102, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 68, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:33:53,342 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:33:53,342 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:33:53,342 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:37:04,842 - OpenAITest - INFO - Current working directory: C:\Users\marti\CascadeProjects\congressional-bill-analyzer
2025-05-31 00:37:04,843 - OpenAITest - INFO - Looking for .env file at: C:\Users\marti\CascadeProjects\congressional-bill-analyzer\.env
2025-05-31 00:37:04,843 - OpenAITest - INFO - .env file exists: True
2025-05-31 00:37:04,843 - OpenAITest - INFO - .env file absolute path: C:\Users\marti\CascadeProjects\congressional-bill-analyzer\.env
2025-05-31 00:37:04,843 - OpenAITest - INFO - .env file exists at absolute path: True
2025-05-31 00:37:04,844 - OpenAITest - INFO - Loaded environment variables: {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\marti\\AppData\\Roaming', 'CHROME_CRASHPAD_PIPE_NAME': '\\\\.\\pipe\\crashpad_19400_IMWCWWICHQSOHJHV', 'CHROME_RESTART': 'Google Chrome|Whoa! Google Chrome has crashed. Relaunch now?|LEFT_TO_RIGHT', 'COMMONPROGRAMFILES': 'C:\\Program Files\\Common Files', 'COMMONPROGRAMFILES(X86)': 'C:\\Program Files (x86)\\Common Files', 'COMMONPROGRAMW6432': 'C:\\Program Files\\Common Files', 'COMPUTERNAME': 'MARTYSHP', 'COMSPEC': 'C:\\WINDOWS\\system32\\cmd.exe', 'DRIVERDATA': 'C:\\Windows\\System32\\Drivers\\DriverData', 'EFC_2932_1592913036': '1', 'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'FPS_BROWSER_USER_PROFILE_STRING': 'Default', 'HOMEDRIVE': 'C:', 'HOMEPATH': '\\Users\\marti', 'IGCCSVC_DB': 'AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAV4q3FNqEUE2VnMHsrA9KcAQAAAACAAAAAAAQZgAAAAEAACAAAABbeBuAbXezeVE29Mzdaz0iGbcZo+JRT93yWOjYps/XggAAAAAOgAAAAAIAACAAAAA3M3GW8IH2HBvE7yR1ixB3/1jGey+GCdo5qTQ+aGcebmAAAABVOVEtK+cEPRZJW7IqjK8ki5xMdzy2et7jpKGWhNfL9kvMLDUBZdVGs8FOltuLf5ZtGcPR2M+IJz1BRD2+TCTzM+qgfFTLlEPtw5oGPiyo0JchGG5SKieokm+S1O5ZuuhAAAAADjDGo91s0PwKDZAOsUCSDVDJdx2Q+mZCLAWIPWbTMWFgNS86Zuhg+2hv6btTnyiLKIFWyQ5QSLb99xeya7eWYQ==', 'LOCALAPPDATA': 'C:\\Users\\marti\\AppData\\Local', 'LOGONSERVER': '\\\\MARTYSHP', 'NUMBER_OF_PROCESSORS': '12', 'ONEDRIVE': 'C:\\Users\\marti\\OneDrive', 'ONEDRIVECONSUMER': 'C:\\Users\\marti\\OneDrive', 'OPENAI_API_KEY': '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', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'undefined', 'OS': 'Windows_NT', 'PATH': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'PATHEXT': '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL', 'PROCESSOR_ARCHITECTURE': 'AMD64', 'PROCESSOR_IDENTIFIER': 'Intel64 Family 6 Model 154 Stepping 4, GenuineIntel', 'PROCESSOR_LEVEL': '6', 'PROCESSOR_REVISION': '9a04', 'PROGRAMDATA': 'C:\\ProgramData', 'PROGRAMFILES': 'C:\\Program Files', 'PROGRAMFILES(X86)': 'C:\\Program Files (x86)', 'PROGRAMW6432': 'C:\\Program Files', 'PSMODULEPATH': 'C:\\Users\\marti\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'PUBLIC': 'C:\\Users\\Public', 'RTOOLS44_HOME': 'C:\\rtools44', 'SESSIONNAME': 'Console', 'SYSTEMDRIVE': 'C:', 'SYSTEMROOT': 'C:\\WINDOWS', 'TEMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'TMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'USERDOMAIN': 'MARTYSHP', 'USERDOMAIN_ROAMINGPROFILE': 'MARTYSHP', 'USERNAME': 'marti', 'USERPROFILE': 'C:\\Users\\marti', 'VBOX_MSI_INSTALL_PATH': 'C:\\Program Files\\Oracle\\VirtualBox\\', 'VIRTUAL_ENV': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv', 'WINDIR': 'C:\\WINDOWS', 'ZES_ENABLE_SYSMAN': '1', 'TERM_PROGRAM': 'vscode', 'TERM_PROGRAM_VERSION': '1.99.1', 'LANG': 'en_US.UTF-8', 'COLORTERM': 'truecolor', 'GIT_ASKPASS': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass.sh', 'VSCODE_GIT_ASKPASS_NODE': 'C:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\Windsurf.exe', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'VSCODE_GIT_ASKPASS_MAIN': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass-main.js', 'VSCODE_GIT_IPC_HANDLE': '\\\\.\\pipe\\vscode-git-7c04946eb4-sock', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\.noConfigDebugAdapterEndpoints\\endpoint-7c6af91d3eae993d.txt', 'VSCODE_ENV_PREPEND': 'PATH=c\\x3a\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c\\x3a\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C\\x3a\\Program Files\\Google\\Chrome\\Application;C\\x3a\\Program Files\\Rockwell Software\\RSCommon;C\\x3a\\WINDOWS\\system32;C\\x3a\\WINDOWS;C\\x3a\\WINDOWS\\System32\\Wbem;C\\x3a\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C\\x3a\\WINDOWS\\System32\\OpenSSH\\;C\\x3a\\Program Files\\Git\\cmd;C\\x3a\\Program Files\\dotnet\\;C\\x3a\\Program Files\\nodejs\\;C\\x3a\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C\\x3a\\ProgramData\\marti\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C\\x3a\\Users\\marti\\AppData\\Local\\Pandoc\\;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C\\x3a\\Users\\marti\\.dotnet\\tools;C\\x3a\\Users\\marti\\anaconda3\\Scripts;C\\x3a\\Users\\marti\\anaconda3;C\\x3a\\Users\\marti\\anaconda3\\Library\\bin;C\\x3a\\Users\\marti\\AppData\\Roaming\\npm;', 'BUNDLED_DEBUGPY_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\bundled\\libs\\debugpy', 'VSCODE_ENV_REPLACE': 'PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC:__COMPAT_LAYER=DetectorsAppHealth:PSMODULEPATH=C\\x3a\\Program Files\\WindowsPowerShell\\Modules;C\\x3a\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'VSCODE_INJECTION': '1', 'VSCODE_NONCE': '31240ae9-b2d8-44c9-ad2a-1e99602f847e', 'VSCODE_STABLE': '1', '_OLD_VIRTUAL_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'CHROMA_DB_PATH': './data/chromadb', 'LOG_LEVEL': 'INFO', 'SCRAPING_DELAY': '1.0'}
2025-05-31 00:37:04,844 - OpenAITest - INFO - API key loaded: sk-B...1zFp (length: 51)
2025-05-31 00:37:04,845 - OpenAITest - INFO - API key from env: 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
2025-05-31 00:37:04,892 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:37:04,894 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:37:04,894 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:37:05,345 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:37:05,345 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:37:05,345 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:37:05,347 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 72, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:37:05,347 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:37:05,347 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 106, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 72, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:37:05,347 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:37:05,347 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:37:05,347 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:39:25,773 - OpenAITest - INFO - Current working directory: C:\Users\marti\CascadeProjects\congressional-bill-analyzer
2025-05-31 00:39:25,773 - OpenAITest - INFO - Looking for .env file at: C:\Users\marti\CascadeProjects\congressional-bill-analyzer\.env
2025-05-31 00:39:25,773 - OpenAITest - INFO - .env file exists: True
2025-05-31 00:39:25,773 - OpenAITest - INFO - .env file absolute path: C:\Users\marti\CascadeProjects\congressional-bill-analyzer\.env
2025-05-31 00:39:25,773 - OpenAITest - INFO - .env file exists at absolute path: True
2025-05-31 00:39:25,773 - OpenAITest - INFO - Loaded environment variables: {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\marti\\AppData\\Roaming', 'CHROME_CRASHPAD_PIPE_NAME': '\\\\.\\pipe\\crashpad_19400_IMWCWWICHQSOHJHV', 'CHROME_RESTART': 'Google Chrome|Whoa! Google Chrome has crashed. Relaunch now?|LEFT_TO_RIGHT', 'COMMONPROGRAMFILES': 'C:\\Program Files\\Common Files', 'COMMONPROGRAMFILES(X86)': 'C:\\Program Files (x86)\\Common Files', 'COMMONPROGRAMW6432': 'C:\\Program Files\\Common Files', 'COMPUTERNAME': 'MARTYSHP', 'COMSPEC': 'C:\\WINDOWS\\system32\\cmd.exe', 'DRIVERDATA': 'C:\\Windows\\System32\\Drivers\\DriverData', 'EFC_2932_1592913036': '1', 'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'FPS_BROWSER_USER_PROFILE_STRING': 'Default', 'HOMEDRIVE': 'C:', 'HOMEPATH': '\\Users\\marti', 'IGCCSVC_DB': 'AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAV4q3FNqEUE2VnMHsrA9KcAQAAAACAAAAAAAQZgAAAAEAACAAAABbeBuAbXezeVE29Mzdaz0iGbcZo+JRT93yWOjYps/XggAAAAAOgAAAAAIAACAAAAA3M3GW8IH2HBvE7yR1ixB3/1jGey+GCdo5qTQ+aGcebmAAAABVOVEtK+cEPRZJW7IqjK8ki5xMdzy2et7jpKGWhNfL9kvMLDUBZdVGs8FOltuLf5ZtGcPR2M+IJz1BRD2+TCTzM+qgfFTLlEPtw5oGPiyo0JchGG5SKieokm+S1O5ZuuhAAAAADjDGo91s0PwKDZAOsUCSDVDJdx2Q+mZCLAWIPWbTMWFgNS86Zuhg+2hv6btTnyiLKIFWyQ5QSLb99xeya7eWYQ==', 'LOCALAPPDATA': 'C:\\Users\\marti\\AppData\\Local', 'LOGONSERVER': '\\\\MARTYSHP', 'NUMBER_OF_PROCESSORS': '12', 'ONEDRIVE': 'C:\\Users\\marti\\OneDrive', 'ONEDRIVECONSUMER': 'C:\\Users\\marti\\OneDrive', 'OPENAI_API_KEY': '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', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'undefined', 'OS': 'Windows_NT', 'PATH': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'PATHEXT': '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL', 'PROCESSOR_ARCHITECTURE': 'AMD64', 'PROCESSOR_IDENTIFIER': 'Intel64 Family 6 Model 154 Stepping 4, GenuineIntel', 'PROCESSOR_LEVEL': '6', 'PROCESSOR_REVISION': '9a04', 'PROGRAMDATA': 'C:\\ProgramData', 'PROGRAMFILES': 'C:\\Program Files', 'PROGRAMFILES(X86)': 'C:\\Program Files (x86)', 'PROGRAMW6432': 'C:\\Program Files', 'PSMODULEPATH': 'C:\\Users\\marti\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'PUBLIC': 'C:\\Users\\Public', 'RTOOLS44_HOME': 'C:\\rtools44', 'SESSIONNAME': 'Console', 'SYSTEMDRIVE': 'C:', 'SYSTEMROOT': 'C:\\WINDOWS', 'TEMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'TMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'USERDOMAIN': 'MARTYSHP', 'USERDOMAIN_ROAMINGPROFILE': 'MARTYSHP', 'USERNAME': 'marti', 'USERPROFILE': 'C:\\Users\\marti', 'VBOX_MSI_INSTALL_PATH': 'C:\\Program Files\\Oracle\\VirtualBox\\', 'VIRTUAL_ENV': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv', 'WINDIR': 'C:\\WINDOWS', 'ZES_ENABLE_SYSMAN': '1', 'TERM_PROGRAM': 'vscode', 'TERM_PROGRAM_VERSION': '1.99.1', 'LANG': 'en_US.UTF-8', 'COLORTERM': 'truecolor', 'GIT_ASKPASS': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass.sh', 'VSCODE_GIT_ASKPASS_NODE': 'C:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\Windsurf.exe', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'VSCODE_GIT_ASKPASS_MAIN': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass-main.js', 'VSCODE_GIT_IPC_HANDLE': '\\\\.\\pipe\\vscode-git-7c04946eb4-sock', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\.noConfigDebugAdapterEndpoints\\endpoint-7c6af91d3eae993d.txt', 'VSCODE_ENV_PREPEND': 'PATH=c\\x3a\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c\\x3a\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C\\x3a\\Program Files\\Google\\Chrome\\Application;C\\x3a\\Program Files\\Rockwell Software\\RSCommon;C\\x3a\\WINDOWS\\system32;C\\x3a\\WINDOWS;C\\x3a\\WINDOWS\\System32\\Wbem;C\\x3a\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C\\x3a\\WINDOWS\\System32\\OpenSSH\\;C\\x3a\\Program Files\\Git\\cmd;C\\x3a\\Program Files\\dotnet\\;C\\x3a\\Program Files\\nodejs\\;C\\x3a\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C\\x3a\\ProgramData\\marti\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C\\x3a\\Users\\marti\\AppData\\Local\\Pandoc\\;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C\\x3a\\Users\\marti\\.dotnet\\tools;C\\x3a\\Users\\marti\\anaconda3\\Scripts;C\\x3a\\Users\\marti\\anaconda3;C\\x3a\\Users\\marti\\anaconda3\\Library\\bin;C\\x3a\\Users\\marti\\AppData\\Roaming\\npm;', 'BUNDLED_DEBUGPY_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\bundled\\libs\\debugpy', 'VSCODE_ENV_REPLACE': 'PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC:__COMPAT_LAYER=DetectorsAppHealth:PSMODULEPATH=C\\x3a\\Program Files\\WindowsPowerShell\\Modules;C\\x3a\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'VSCODE_INJECTION': '1', 'VSCODE_NONCE': '31240ae9-b2d8-44c9-ad2a-1e99602f847e', 'VSCODE_STABLE': '1', '_OLD_VIRTUAL_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'OPENAI_APIKEY': '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', 'CHROMA_DB_PATH': './data/chromadb', 'LOG_LEVEL': 'INFO', 'SCRAPING_DELAY': '1.0'}
2025-05-31 00:39:25,773 - OpenAITest - INFO - API key loaded: sk-p...TGAA (length: 164)
2025-05-31 00:39:25,773 - OpenAITest - INFO - API key from env: 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
2025-05-31 00:39:25,831 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:39:25,831 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:39:25,831 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:39:26,735 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-05-31 00:39:26,735 - OpenAITest - ERROR - Completion endpoint test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:39:26,741 - OpenAITest - ERROR - Error during OpenAI test: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:39:26,742 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 72, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:39:26,742 - OpenAITest - ERROR - Test failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-31 00:39:26,742 - OpenAITest - ERROR - Traceback (most recent call last):
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 106, in <module>
    test_openai_connection()
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\test_openai.py", line 72, in test_openai_connection
    response = client.chat.completions.create(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\marti\CascadeProjects\congressional-bill-analyzer\venv\lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-Br37x***************************************1zFp. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}

2025-05-31 00:39:26,742 - OpenAITest - ERROR - 
Please check your API key in the .env file. It should be in the format:
2025-05-31 00:39:26,742 - OpenAITest - ERROR - OPENAI_API_KEY=sk-your-key-here
2025-05-31 00:39:26,742 - OpenAITest - ERROR - You can find your API key at: https://platform.openai.com/account/api-keys
2025-05-31 00:42:03,671 - OpenAITest - INFO - Current working directory: C:\Users\marti\CascadeProjects\congressional-bill-analyzer
2025-05-31 00:42:03,671 - OpenAITest - INFO - Looking for .env file at: C:\Users\marti\CascadeProjects\congressional-bill-analyzer\.env
2025-05-31 00:42:03,671 - OpenAITest - INFO - .env file exists: True
2025-05-31 00:42:03,671 - OpenAITest - INFO - .env file absolute path: C:\Users\marti\CascadeProjects\congressional-bill-analyzer\.env
2025-05-31 00:42:03,671 - OpenAITest - INFO - .env file exists at absolute path: True
2025-05-31 00:42:03,671 - OpenAITest - INFO - Loaded environment variables: {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\marti\\AppData\\Roaming', 'CHROME_CRASHPAD_PIPE_NAME': '\\\\.\\pipe\\crashpad_19400_IMWCWWICHQSOHJHV', 'CHROME_RESTART': 'Google Chrome|Whoa! Google Chrome has crashed. Relaunch now?|LEFT_TO_RIGHT', 'COMMONPROGRAMFILES': 'C:\\Program Files\\Common Files', 'COMMONPROGRAMFILES(X86)': 'C:\\Program Files (x86)\\Common Files', 'COMMONPROGRAMW6432': 'C:\\Program Files\\Common Files', 'COMPUTERNAME': 'MARTYSHP', 'COMSPEC': 'C:\\WINDOWS\\system32\\cmd.exe', 'DRIVERDATA': 'C:\\Windows\\System32\\Drivers\\DriverData', 'EFC_2932_1592913036': '1', 'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'FPS_BROWSER_USER_PROFILE_STRING': 'Default', 'HOMEDRIVE': 'C:', 'HOMEPATH': '\\Users\\marti', 'IGCCSVC_DB': 'AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAV4q3FNqEUE2VnMHsrA9KcAQAAAACAAAAAAAQZgAAAAEAACAAAABbeBuAbXezeVE29Mzdaz0iGbcZo+JRT93yWOjYps/XggAAAAAOgAAAAAIAACAAAAA3M3GW8IH2HBvE7yR1ixB3/1jGey+GCdo5qTQ+aGcebmAAAABVOVEtK+cEPRZJW7IqjK8ki5xMdzy2et7jpKGWhNfL9kvMLDUBZdVGs8FOltuLf5ZtGcPR2M+IJz1BRD2+TCTzM+qgfFTLlEPtw5oGPiyo0JchGG5SKieokm+S1O5ZuuhAAAAADjDGo91s0PwKDZAOsUCSDVDJdx2Q+mZCLAWIPWbTMWFgNS86Zuhg+2hv6btTnyiLKIFWyQ5QSLb99xeya7eWYQ==', 'LOCALAPPDATA': 'C:\\Users\\marti\\AppData\\Local', 'LOGONSERVER': '\\\\MARTYSHP', 'NUMBER_OF_PROCESSORS': '12', 'ONEDRIVE': 'C:\\Users\\marti\\OneDrive', 'ONEDRIVECONSUMER': 'C:\\Users\\marti\\OneDrive', 'OPENAI_API_KEY': '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', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'undefined', 'OS': 'Windows_NT', 'PATH': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'PATHEXT': '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL', 'PROCESSOR_ARCHITECTURE': 'AMD64', 'PROCESSOR_IDENTIFIER': 'Intel64 Family 6 Model 154 Stepping 4, GenuineIntel', 'PROCESSOR_LEVEL': '6', 'PROCESSOR_REVISION': '9a04', 'PROGRAMDATA': 'C:\\ProgramData', 'PROGRAMFILES': 'C:\\Program Files', 'PROGRAMFILES(X86)': 'C:\\Program Files (x86)', 'PROGRAMW6432': 'C:\\Program Files', 'PSMODULEPATH': 'C:\\Users\\marti\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'PUBLIC': 'C:\\Users\\Public', 'RTOOLS44_HOME': 'C:\\rtools44', 'SESSIONNAME': 'Console', 'SYSTEMDRIVE': 'C:', 'SYSTEMROOT': 'C:\\WINDOWS', 'TEMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'TMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'USERDOMAIN': 'MARTYSHP', 'USERDOMAIN_ROAMINGPROFILE': 'MARTYSHP', 'USERNAME': 'marti', 'USERPROFILE': 'C:\\Users\\marti', 'VBOX_MSI_INSTALL_PATH': 'C:\\Program Files\\Oracle\\VirtualBox\\', 'VIRTUAL_ENV': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv', 'WINDIR': 'C:\\WINDOWS', 'ZES_ENABLE_SYSMAN': '1', 'TERM_PROGRAM': 'vscode', 'TERM_PROGRAM_VERSION': '1.99.1', 'LANG': 'en_US.UTF-8', 'COLORTERM': 'truecolor', 'GIT_ASKPASS': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass.sh', 'VSCODE_GIT_ASKPASS_NODE': 'C:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\Windsurf.exe', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'VSCODE_GIT_ASKPASS_MAIN': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass-main.js', 'VSCODE_GIT_IPC_HANDLE': '\\\\.\\pipe\\vscode-git-7c04946eb4-sock', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\.noConfigDebugAdapterEndpoints\\endpoint-7c6af91d3eae993d.txt', 'VSCODE_ENV_PREPEND': 'PATH=c\\x3a\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c\\x3a\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C\\x3a\\Program Files\\Google\\Chrome\\Application;C\\x3a\\Program Files\\Rockwell Software\\RSCommon;C\\x3a\\WINDOWS\\system32;C\\x3a\\WINDOWS;C\\x3a\\WINDOWS\\System32\\Wbem;C\\x3a\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C\\x3a\\WINDOWS\\System32\\OpenSSH\\;C\\x3a\\Program Files\\Git\\cmd;C\\x3a\\Program Files\\dotnet\\;C\\x3a\\Program Files\\nodejs\\;C\\x3a\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C\\x3a\\ProgramData\\marti\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C\\x3a\\Users\\marti\\AppData\\Local\\Pandoc\\;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C\\x3a\\Users\\marti\\.dotnet\\tools;C\\x3a\\Users\\marti\\anaconda3\\Scripts;C\\x3a\\Users\\marti\\anaconda3;C\\x3a\\Users\\marti\\anaconda3\\Library\\bin;C\\x3a\\Users\\marti\\AppData\\Roaming\\npm;', 'BUNDLED_DEBUGPY_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\bundled\\libs\\debugpy', 'VSCODE_ENV_REPLACE': 'PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC:__COMPAT_LAYER=DetectorsAppHealth:PSMODULEPATH=C\\x3a\\Program Files\\WindowsPowerShell\\Modules;C\\x3a\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'VSCODE_INJECTION': '1', 'VSCODE_NONCE': '31240ae9-b2d8-44c9-ad2a-1e99602f847e', 'VSCODE_STABLE': '1', '_OLD_VIRTUAL_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'OPENAIAPIKEY': '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', 'CHROMA_DB_PATH': './data/chromadb', 'LOG_LEVEL': 'INFO', 'SCRAPING_DELAY': '1.0'}
2025-05-31 00:42:03,671 - OpenAITest - INFO - API key loaded: sk-p...TGAA (length: 164)
2025-05-31 00:42:03,671 - OpenAITest - INFO - API key from env: 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
2025-05-31 00:42:03,671 - OpenAITest - ERROR - API key format appears invalid: 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
2025-05-31 00:42:03,671 - OpenAITest - ERROR - Valid API keys should start with 'sk-' followed by alphanumeric characters
2025-05-31 00:42:52,646 - OpenAITest - INFO - Current working directory: C:\Users\marti\CascadeProjects\congressional-bill-analyzer
2025-05-31 00:42:52,646 - OpenAITest - INFO - Looking for .env file at: C:\Users\marti\CascadeProjects\congressional-bill-analyzer\.env
2025-05-31 00:42:52,646 - OpenAITest - INFO - .env file exists: True
2025-05-31 00:42:52,646 - OpenAITest - INFO - .env file absolute path: C:\Users\marti\CascadeProjects\congressional-bill-analyzer\.env
2025-05-31 00:42:52,646 - OpenAITest - INFO - .env file exists at absolute path: True
2025-05-31 00:42:52,646 - OpenAITest - INFO - Loaded environment variables: {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\marti\\AppData\\Roaming', 'CHROME_CRASHPAD_PIPE_NAME': '\\\\.\\pipe\\crashpad_19400_IMWCWWICHQSOHJHV', 'CHROME_RESTART': 'Google Chrome|Whoa! Google Chrome has crashed. Relaunch now?|LEFT_TO_RIGHT', 'COMMONPROGRAMFILES': 'C:\\Program Files\\Common Files', 'COMMONPROGRAMFILES(X86)': 'C:\\Program Files (x86)\\Common Files', 'COMMONPROGRAMW6432': 'C:\\Program Files\\Common Files', 'COMPUTERNAME': 'MARTYSHP', 'COMSPEC': 'C:\\WINDOWS\\system32\\cmd.exe', 'DRIVERDATA': 'C:\\Windows\\System32\\Drivers\\DriverData', 'EFC_2932_1592913036': '1', 'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'FPS_BROWSER_USER_PROFILE_STRING': 'Default', 'HOMEDRIVE': 'C:', 'HOMEPATH': '\\Users\\marti', 'IGCCSVC_DB': 'AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAV4q3FNqEUE2VnMHsrA9KcAQAAAACAAAAAAAQZgAAAAEAACAAAABbeBuAbXezeVE29Mzdaz0iGbcZo+JRT93yWOjYps/XggAAAAAOgAAAAAIAACAAAAA3M3GW8IH2HBvE7yR1ixB3/1jGey+GCdo5qTQ+aGcebmAAAABVOVEtK+cEPRZJW7IqjK8ki5xMdzy2et7jpKGWhNfL9kvMLDUBZdVGs8FOltuLf5ZtGcPR2M+IJz1BRD2+TCTzM+qgfFTLlEPtw5oGPiyo0JchGG5SKieokm+S1O5ZuuhAAAAADjDGo91s0PwKDZAOsUCSDVDJdx2Q+mZCLAWIPWbTMWFgNS86Zuhg+2hv6btTnyiLKIFWyQ5QSLb99xeya7eWYQ==', 'LOCALAPPDATA': 'C:\\Users\\marti\\AppData\\Local', 'LOGONSERVER': '\\\\MARTYSHP', 'NUMBER_OF_PROCESSORS': '12', 'ONEDRIVE': 'C:\\Users\\marti\\OneDrive', 'ONEDRIVECONSUMER': 'C:\\Users\\marti\\OneDrive', 'OPENAI_API_KEY': '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', 'ORIGINAL_XDG_CURRENT_DESKTOP': 'undefined', 'OS': 'Windows_NT', 'PATH': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'PATHEXT': '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL', 'PROCESSOR_ARCHITECTURE': 'AMD64', 'PROCESSOR_IDENTIFIER': 'Intel64 Family 6 Model 154 Stepping 4, GenuineIntel', 'PROCESSOR_LEVEL': '6', 'PROCESSOR_REVISION': '9a04', 'PROGRAMDATA': 'C:\\ProgramData', 'PROGRAMFILES': 'C:\\Program Files', 'PROGRAMFILES(X86)': 'C:\\Program Files (x86)', 'PROGRAMW6432': 'C:\\Program Files', 'PSMODULEPATH': 'C:\\Users\\marti\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'PUBLIC': 'C:\\Users\\Public', 'RTOOLS44_HOME': 'C:\\rtools44', 'SESSIONNAME': 'Console', 'SYSTEMDRIVE': 'C:', 'SYSTEMROOT': 'C:\\WINDOWS', 'TEMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'TMP': 'C:\\Users\\marti\\AppData\\Local\\Temp', 'USERDOMAIN': 'MARTYSHP', 'USERDOMAIN_ROAMINGPROFILE': 'MARTYSHP', 'USERNAME': 'marti', 'USERPROFILE': 'C:\\Users\\marti', 'VBOX_MSI_INSTALL_PATH': 'C:\\Program Files\\Oracle\\VirtualBox\\', 'VIRTUAL_ENV': 'C:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv', 'WINDIR': 'C:\\WINDOWS', 'ZES_ENABLE_SYSMAN': '1', 'TERM_PROGRAM': 'vscode', 'TERM_PROGRAM_VERSION': '1.99.1', 'LANG': 'en_US.UTF-8', 'COLORTERM': 'truecolor', 'GIT_ASKPASS': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass.sh', 'VSCODE_GIT_ASKPASS_NODE': 'C:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\Windsurf.exe', 'VSCODE_GIT_ASKPASS_EXTRA_ARGS': '', 'VSCODE_GIT_ASKPASS_MAIN': 'c:\\Users\\marti\\AppData\\Local\\Programs\\Windsurf\\resources\\app\\extensions\\git\\dist\\askpass-main.js', 'VSCODE_GIT_IPC_HANDLE': '\\\\.\\pipe\\vscode-git-7c04946eb4-sock', 'PYDEVD_DISABLE_FILE_VALIDATION': '1', 'VSCODE_DEBUGPY_ADAPTER_ENDPOINTS': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\.noConfigDebugAdapterEndpoints\\endpoint-7c6af91d3eae993d.txt', 'VSCODE_ENV_PREPEND': 'PATH=c\\x3a\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c\\x3a\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C\\x3a\\Program Files\\Google\\Chrome\\Application;C\\x3a\\Program Files\\Rockwell Software\\RSCommon;C\\x3a\\WINDOWS\\system32;C\\x3a\\WINDOWS;C\\x3a\\WINDOWS\\System32\\Wbem;C\\x3a\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C\\x3a\\WINDOWS\\System32\\OpenSSH\\;C\\x3a\\Program Files\\Git\\cmd;C\\x3a\\Program Files\\dotnet\\;C\\x3a\\Program Files\\nodejs\\;C\\x3a\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C\\x3a\\ProgramData\\marti\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C\\x3a\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C\\x3a\\Users\\marti\\AppData\\Local\\Pandoc\\;C\\x3a\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C\\x3a\\Users\\marti\\.dotnet\\tools;C\\x3a\\Users\\marti\\anaconda3\\Scripts;C\\x3a\\Users\\marti\\anaconda3;C\\x3a\\Users\\marti\\anaconda3\\Library\\bin;C\\x3a\\Users\\marti\\AppData\\Roaming\\npm;', 'BUNDLED_DEBUGPY_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.debugpy-2025.6.0-win32-x64\\bundled\\libs\\debugpy', 'VSCODE_ENV_REPLACE': 'PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC:__COMPAT_LAYER=DetectorsAppHealth:PSMODULEPATH=C\\x3a\\Program Files\\WindowsPowerShell\\Modules;C\\x3a\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules', 'VSCODE_INJECTION': '1', 'VSCODE_NONCE': '31240ae9-b2d8-44c9-ad2a-1e99602f847e', 'VSCODE_STABLE': '1', '_OLD_VIRTUAL_PATH': 'c:\\Users\\marti\\.windsurf\\extensions\\ms-python.python-2025.4.0-universal\\python_files\\deactivate\\powershell;c:\\Users\\marti\\CascadeProjects\\congressional-bill-analyzer\\venv\\Scripts;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;C:\\Program Files\\Google\\Chrome\\Application;C:\\Program Files\\Rockwell Software\\RSCommon;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Users\\marti\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\marti\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\ProgramData\\marti\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\marti\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python37\\site-packages;C:\\Users\\marti\\AppData\\Local\\Pandoc\\;C:\\Users\\marti\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\;C:\\Users\\marti\\.dotnet\\tools;C:\\Users\\marti\\anaconda3\\Scripts;C:\\Users\\marti\\anaconda3;C:\\Users\\marti\\anaconda3\\Library\\bin;C:\\Users\\marti\\AppData\\Roaming\\npm;', 'OPENAIAPIKEY': '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', 'CHROMA_DB_PATH': './data/chromadb', 'LOG_LEVEL': 'INFO', 'SCRAPING_DELAY': '1.0'}
2025-05-31 00:42:52,646 - OpenAITest - INFO - API key loaded: sk-p...TGAA (length: 164)
2025-05-31 00:42:52,646 - OpenAITest - INFO - API key from env: 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
2025-05-31 00:42:52,698 - OpenAITest - INFO - Successfully initialized OpenAI client
2025-05-31 00:42:52,698 - OpenAITest - INFO - Starting OpenAI connection test...
2025-05-31 00:42:52,698 - OpenAITest - INFO - Testing completion endpoint...
2025-05-31 00:42:54,615 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-31 00:42:54,617 - OpenAITest - INFO - Response received: Hello! I'm just a text-based AI assistant, so I don't have feelings, but I'm here to help you. How can I assist you today?
2025-05-31 00:42:54,617 - OpenAITest - INFO - Completion endpoint test successful!
2025-05-31 00:42:54,617 - OpenAITest - INFO - Testing embeddings endpoint...
2025-05-31 00:42:55,244 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-05-31 00:42:55,315 - OpenAITest - INFO - Embedding length: 1536
2025-05-31 00:42:55,315 - OpenAITest - INFO - Embeddings endpoint test successful!
2025-05-31 00:42:55,315 - OpenAITest - INFO - All OpenAI tests completed successfully!
